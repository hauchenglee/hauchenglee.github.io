---
layout: post
title: Stable Diffusion High Definition
category: AI
tags: [ai, stable-diffusion]
---

三種主要的放大修復方案：
- 01 文生圖 高清修復：打開重畫，再來一幅
  - 分兩步處理圖像，先生成一個低分辨率版本，再根據它與指定的放大算法，再生成一個高分辨率版本，從而在不更改構圖的情況下豐富細節。
- 02 圖生圖 SD放大：分幾塊畫，拼到一起
  - 根據指定的放大倍數，將圖生圖的圖像拆分成若干小塊按固定邏輯重繪，再拼合成一張大圖，可以實現在低顯存下繪製大尺寸圖片
- 03 生成後處理 附加功能：簡單放大，隨時可用
  - 利用各種放大算法，在圖像生成後對其進行單獨的放大處理，使之擁有高的分辨率尺寸

## Hi-Res Fix

參數：
- 高清修復採樣次數：預設0
- 重繪幅度：若要保持畫面大的結構不發生變化，安全的放大區間0.3-0.5
- 放大算法；
  - 一般：R-ESRGAN 4x+
  - 二次元：R-ESRGAN 4x+ Anime6B

優勢：
- 不會改變畫面構圖（經由隨機種子固定）
- 穩定克服多人、多頭等由分辨率產生的問題
- 操作簡單、清晰、直觀

缺陷：
- 仍然受到最大顯存的限制
- 計算速度相對較慢
- 偶爾“加戲”，出現莫名的額外元素

## SD Upscale

可選附加網絡(LoRA插件) → 腳本 → 使用 SD 放大(SD upscale)

參數：
- 圖塊重疊像素 Tile Overlap
- 縮放係數：2

最重寬高 = (設置的寬高 - 重疊像素) x 放大倍率

→ 設置重疊像素後，要在設計寬高的基礎上**加上像素值**

優勢：
- 可以突破內存限制獲得更大的分辨率（最高可達4倍寬高）
- 畫面精緻度高，對細節的豐富效果出色

缺陷：
- 分割重繪的過程較為不可控（語義誤導和分界線割裂）
- 操作頻繁且相對不直觀
- 偶爾“加戲”，出現莫名的額外元素

## 附加功能放大

參數：
- upscaler: 挑選算法，可以只選一個
- 放大算法可見度: 0~1

優勢：
- 使用方便，操作簡單，隨時可以調用
- 計算速度快，無重繪壓力
- 完全不改變圖片內容

缺陷：
- 效果不太顯著（有點雞肋）

---